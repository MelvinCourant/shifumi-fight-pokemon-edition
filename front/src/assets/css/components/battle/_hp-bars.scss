@use "../../partials/functions";
@use "../../partials/fonts";

.hp-bar {
  position: relative;

  @media screen and (max-width: 767px) {
    width: 100% !important;

    img {
      width: 100%;
    }
  }

  &__pseudo {
    position: absolute;
    color: var(--dark-grey);
    font-size: functions.rem(31);
    text-shadow: functions.rem(4) functions.rem(4) 0 var(--hp-shadow-grey), 0 functions.rem(4) 0 var(--hp-shadow-grey), functions.rem(4) 0 0 var(--hp-shadow-grey);

    @media screen and (max-width: 1439px) {
      font-size: 2.15vw; // 31px in 1440px
      text-shadow: 0.28vw 0.28vw 0 var(--hp-shadow-grey), 0 0.28vw 0 var(--hp-shadow-grey), 0.28vw 0 0 var(--hp-shadow-grey);
    }
  }

  &__hp-number {
    position: absolute;
    right: 9.6%;
    bottom: 14.26%;
    display: flex;
    gap: functions.rem(30);

    @media screen and (max-width: 1439px) {
      gap: 2.08vw; // 30px in 1440px
    }

    @media screen and (max-width: 767px) {
      gap: 3vw;
    }

    span {
      font-family: fonts.$pokemon-classic;
      color: var(--dark-grey);
      font-size: functions.rem(32);
      text-align: right;
      letter-spacing: -0.28em;
      text-shadow: functions.rem(4) functions.rem(4) 0 var(--hp-shadow-grey), 0 functions.rem(4) 0 var(--hp-shadow-grey), functions.rem(4) 0 0 var(--hp-shadow-grey);

      @media screen and (max-width: 1439px) {
        font-size: 2.22vw; // 32px in 1440px
        text-shadow: 0.28vw 0.28vw 0 var(--hp-shadow-grey), 0 0.28vw 0 var(--hp-shadow-grey), 0.28vw 0 0 var(--hp-shadow-grey);
      }

      @media screen and (max-width: 767px) {
        font-size: 3.2vw; // 2.22vw * 1.44 (ratio 50vw/34.72vw)
        text-shadow: 0.4vw 0.4vw 0 var(--hp-shadow-grey), 0 0.4vw 0 var(--hp-shadow-grey), 0.4vw 0 0 var(--hp-shadow-grey);
      }
    }
  }

  &__level {
    position: absolute;
    font-family: fonts.$pokemon-classic;
    color: var(--dark-grey);
    font-size: functions.rem(32);
    letter-spacing: -0.28em;
    text-shadow: functions.rem(4) functions.rem(4) 0 var(--hp-shadow-grey), 0 functions.rem(4) 0 var(--hp-shadow-grey), functions.rem(4) 0 0 var(--hp-shadow-grey);

    @media screen and (max-width: 1439px) {
      font-size: 2.22vw; // 32px in 1440px
      text-shadow: 0.28vw 0.28vw 0 var(--hp-shadow-grey), 0 0.28vw 0 var(--hp-shadow-grey), 0.28vw 0 0 var(--hp-shadow-grey);
    }
  }

  &__gauge {
    position: absolute;
    background: var(--bar-white);

    &:before {
      content: '';
      position: absolute;
      z-index: 1;
      top: 0;
      left: 0;
      right: 0;
      height: 33.28%;
      background: var(--bar-grey);
    }

    &-level {
      position: relative;
      z-index: 2;
      display: block;
      width: 100%;
      height: 100%;
      transform-origin: left;
      transition: all .3s;

      &:before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 33.28%;
        transition: background .3s;
      }

      &--green {
        background: var(--bar-green);

        &:before {
          background: var(--bar-dark-green);
        }
      }

      &--red {
        background: var(--bar-red);

        &:before {
          background: var(--bar-dark-red);
        }
      }
    }
  }

  &--player {
    @media screen and (max-width: 1439px) {
      width: 34.72vw; // 500px in 1440px
    }

    .hp-bar {
      &__pseudo {
        top: 14.85%;
        left: 18.8%;

        @media screen and (max-width: 767px) {
          font-size: 3.1vw; // 2.15vw * 1.44 (ratio 50vw/34.72vw)
          text-shadow: 0.4vw 0.4vw 0 var(--hp-shadow-grey), 0 0.4vw 0 var(--hp-shadow-grey), 0.4vw 0 0 var(--hp-shadow-grey);
        }
      }

      &__level {
        top: 14.53%;
        right: 3.27%;

        @media screen and (max-width: 767px) {
          font-size: 3.2vw; // 2.22vw * 1.44 (ratio 50vw/34.72vw)
          text-shadow: 0.4vw 0.4vw 0 var(--hp-shadow-grey), 0 0.4vw 0 var(--hp-shadow-grey), 0.4vw 0 0 var(--hp-shadow-grey);
        }
      }

      &__gauge {
        right: 6.25%;
        bottom: 40.22%;
        width: 37.51%;
        height: 6.37%;
      }
    }
  }

  &--enemy {
    @media screen and (max-width: 1439px) {
      width: 33.13vw; // 477px in 1440px
    }

    .hp-bar {
      &__pseudo {
        top: 17.15%;
        left: 1.64%;

        @media screen and (max-width: 767px) {
          font-size: 2.9vw; // 2.15vw * 1.36 (ratio 45vw/33.13vw)
          text-shadow: 0.38vw 0.38vw 0 var(--hp-shadow-grey), 0 0.38vw 0 var(--hp-shadow-grey), 0.38vw 0 0 var(--hp-shadow-grey);
        }
      }

      &__level {
        top: 16.38%;
        right: 16.63%;

        @media screen and (max-width: 767px) {
          font-size: 3.0vw; // 2.22vw * 1.36 (ratio 45vw/33.13vw)
          text-shadow: 0.38vw 0.38vw 0 var(--hp-shadow-grey), 0 0.38vw 0 var(--hp-shadow-grey), 0.38vw 0 0 var(--hp-shadow-grey);
        }
      }

      &__gauge {
        right: 19.7%;
        bottom: 22.7%;
        width: 39.4%;
        height: 8.8%;
      }
    }
  }
}